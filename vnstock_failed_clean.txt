PYTHON - << "PY"
IMPORT OS
# FILE Gá»C
SRC = "VNSTOCK_FAILED.TXT"
IF NOT OS.PATH.EXISTS(SRC):
PRINT("âŒ FILE VNSTOCK_FAILED.TXT KHÃ”NG Tá»’N Táº I TRONG THÆ¯ Má»¤C HIá»†N Táº I!")
RAISE SYSTEMEXIT
SKIP_INDICES = {
"VNINDEX","HNXINDEX","UPCOMINDEX",
"VN30","HNX30","UPCOM",
"HASTC","HASTCINDEX"
}
CLEAN = []
WITH OPEN(SRC, "R", ENCODING="UTF-8") AS F:
FOR LINE IN F:
S = LINE.STRIP()
IF NOT S:
CONTINUE
S = S.LSTRIP("^").STRIP().UPPER()
IF S IN SKIP_INDICES:
IF S NOT IN CLEAN:
CLEAN.APPEND(S)
OUT = "VNSTOCK_FAILED_CLEAN.TXT"
WITH OPEN(OUT, "W", ENCODING="UTF-8") AS F:
FOR S IN CLEAN:
F.WRITE(S + "\N")
PRINT("âœ… ÄÃƒ Táº O FILE:", OUT)
PRINT("ðŸ‘‰ Sá» MÃƒ CÃ’N Láº I:", LEN(CLEAN))
PY
